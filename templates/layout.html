<!DOCTYPE html>

<html lang="en">

    <head>

        <!-- Specifies the character set for the document is UTF-8 -->
        <meta charset="utf-8">
        <!-- Ensures proper rendering and touch zooming on mobile devices -->  
        <meta name="viewport" content="initial-scale=1, width=device-width">

        <!-- Load Tailwind CSS from CDN for styling -->        
        <script src="https://cdn.tailwindcss.com"></script>

        <!-- https://favicon.io/emoji-favicons/money-bag/ -->
        <link href="/static/favicon.ico" rel="icon">

        <link href="/static/styles.css" rel="stylesheet">

        <title>Final project: {% block title %}{% endblock %}</title>

    </head>

    <!-- Tailwind's "antialiased" for smoother fonts -->
    <body class="antialiased min-h-screen flex flex-col">

        <!-- Navbar built with Tailwind Flexbox -->
        <nav class="bg-white shadow-md p-4 sticky top-0 z-50">
            <div class="container mx-auto flex justify-between items-center">
                
                <!-- Logo/Brand -->
                <a class="text-xl font-extrabold tracking-tight text-gray-900 hover:text-gray-700" href="/">
                    <span class="text-blue-600">v</span><span class="text-red-600">ir</span><span class="text-yellow-500">tu</span><span class="text-green-600">al</span> <span class="text-red-600">Home</span>
                </a>
                
                <!-- Navigation Links -->
                <div class="flex space-x-6 text-sm font-medium">
                    {% if session["user_id"] %}
                        
                        <!-- Logged In Links -->
                        <a class="text-gray-600 hover:text-blue-500 transition duration-150" href="/map">New Stamp</a>
                        <a class="text-gray-600 hover:text-blue-500 transition duration-150" href="/">Passport</a>
                        <a class="text-gray-600 hover:text-blue-500 transition duration-150" href="/history">History</a>
                        <a class="text-gray-600 hover:text-blue-500 transition duration-150" href="/plan">Plan</a>
                                                
                        <!-- Logout -->
                        <a class="text-red-500 hover:text-red-700 transition duration-150" href="/logout">Log Out</a>
                    
                    {% else %}
                        
                        <!-- Logged Out Links -->
                        <a class="text-gray-600 hover:text-blue-500 transition duration-150" href="/register">Register</a>
                        <a class="text-gray-600 hover:text-blue-500 transition duration-150" href="/login">Log In</a>
                    
                    {% endif %}
                </div>
            </div>
        </nav>

        <!-- Flash Messages (Styled with Tailwind) -->
        {% if get_flashed_messages() %}
            <header class="w-full">
                <div class="bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded-none text-center" role="alert">
                    {{ get_flashed_messages() | join(" ") }}
                </div>
            </header>
        {% endif %}

        <!-- Main Content Area -->
        <main class="flex-grow p-5 md:p-10 flex flex-col items-center">
            {% block main %}{% endblock %}
        </main>

        <!-- Footer -->
        <footer class="mt-auto border-t border-gray-200 py-3 w-full">
            <div class="text-center text-sm text-gray-500">
                &copy; 2025 Federico Montalb√°n
            </div>
        </footer>

    </body>

</html>

